<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <link rel="stylesheet" href="../dist/css/normalize.css">
    <link rel="stylesheet" href="../dist/css/new.css">
    <link
        href="https://fonts.googleapis.com/css2?family=Rubik:ital,wght@0,300;0,400;0,500;0,700;1,300;1,400&display=swap"
        rel="stylesheet">
    <title>Inferhythm - Ray Nathan Low</title>
</head>

<body>
    <nav>
        <p class="name">Ray Nathan Low</p> <a href="../">Home</a>
    </nav>
    <main>
        <header>
            <h1>Inferhythm</h1>
            <p class="subtitle">Browser extension</p>
            <p class="summary">Inferhythm is a browser extension that helps users find lyrics from the website
	      <a href="https://genius.com/">Genius</a> for the track they are currently listening to on Spotify.</p>
            <p class="definition">Lyrics from Genius typically also have annotations and interpretations submitted by
                contributors, editors, musicians, and fans.</p>
            <figure> <video autoplay muted loop class="overview" tabindex="-1">
                    <source src="../dist/images/inferhythm-demo.m4v" type="video/mp4"> Sorry, your browser doesn't
                    support embedded videos. </video>
                <figcaption>Demonstration</figcaption>
            </figure>
        </header>
        <section>
            <h2>Links</h2>
            <ul class="links">
                <li><a href="https://chrome.google.com/webstore/detail/inferhythm/oonjmhckklmpaepklgfjlipaoicfcfid">Inferhythm
                        on Chrome Web Store</a></li>
                <li><a href="https://github.com/raynathanlow/inferhythm">GitHub repository</a></li>
            </ul>
        </section>
        <section>
            <h2>Time Frame</h2>
            <p>September - October 2019</p>
        </section>
        <section>
            <h2>Languages and Tools</h2>
            <p>HTML, CSS, JavaScript, Git</p>
        </section>
        <section>
            <h2>Motivation</h2>
            <p>I wanted a convenient way to get lyrics for the track I'm listening to on Spotify like Genius' Android app,
	      but on desktop operating systems (Windows, macOS, Linux).</p>
            <figure> <video autoplay muted loop id="inferhythm-android-demo" tabindex="-1">
                    <source src="../dist/images/inferhythm-android-demo.m4v" type="video/mp4"> Sorry, your browser
                    doesn't support embedded videos. </video>
                <figcaption>Demonstration of Genius' Android app</figcaption>
            </figure>
        </section>
        <section>
            <h2>Contributions</h2>
            <ul>
                <li><span class="bold">Research: </span>I tried similar browser extensions to avoid remaking any.</li>
                <li><span class="bold">Design: </span> I designed the user experience, user interface, and icon.</li>
                <li><span class="bold">Development: </span>I wrote HTML, CSS, and JavaScript to present data from Spotify
		  and Genius.</li>
                <li><span class="bold">Testing: </span> I wrote tests with Jest, a JavaScript testing framework.</li>
            </ul>
        </section>
        <section>
            <h2>Challenge: Get Lyrics in One Click</h2>
            <p>I had to program my design where the lyrics open in a new tab when the user clicks Inferhythm's button.</p>
            <h3>Manually Create Genius Page Links</h3>
            <p>I noticed that the structure of links to Genius pages were like genius.com/artist-name-track-title-lyrics,
	      so I thought I could programmatically manipulate track data to match that structure.</p>
            <p>Unfortunately, it wasn't very reliable because some artists had symbols in their names like a dollar sign
	      which created invalid links because it wasn't consistently handled by Genius.</p>
            <figure>
                <table>
                    <thead>
                        <tr>
                            <th>Artist name</th>
                            <th>After text manipulation</th>
                            <th>Genius</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>A$AP Rocky</td>
                            <td>asap-rocky</td>
                            <td>a-ap-rocky</td>
                        </tr>
                        <tr>
                            <td>Ty Dolla $ign</td>
                            <td>ty-dolla-sign</td>
                            <td>ty-dolla-sign</td>
                        </tr>
                    </tbody>
                </table>
            </figure>
            <p>This also happened for tracks that indicate features, remixes, or remasters in their title.</p>
            <h3>Get Links Directly from Genius</h3>
            <p>I went through several related GitHub repositories to see how they got links. Some manually created links 
	      like I did, while others used Genius' search function.</p>
	    <p>I tried the search function and immediately saw better results since all the links worked.</p>
            <h3>Optimize Search Queries</h3>
            <p>Sometimes, one generalized query didn't show accurate results, so I added another similar, but more detailed
	      query which often helps.</p>
            <p>As a result, I merged the results of the two queries which is displayed in the popup when the user clicks
	      Inferhythm's button.</p>
            <figure> <img src="../dist/images/inferhythm-merged-results.png" alt="Results from query 1 and 2 merged"
                    id="inferhythm-merged-results">
                <figcaption>Results from query 1 and 2 merged</figcaption>
            </figure>
        </section>
        <section>
            <h2>Reflection</h2>
            <h3>Measuring Success</h3>
            <p>Inferhythm was successful because it does what I designed it to do with one slight difference. Instead of
                opening the lyrics in a new tab upon clicking Inferhythm's button, a popup with a list of results
                appears. The user can click a result to open in a new tab. I had to adapt because I couldn't
                consistently get the lyrics that accurately matched the currently playing track to do what I planned.
            </p>
            <h3>What I Learned:</h3>
            <ul>
                <li><span class="bold">Writing tests: </span>It would have been easier on me to write tests as I worked
                    instead of writing them all at once near the end when the code is more complicated. They'll also 
                    give me some confidence knowing that the code works without errors as I work towards fully
                    implementing my design.</li>
                <li><span class="bold">Cookies: </span> I used them to keep the user's session so that they wouldn't
                    need to log in with Spotify again after reopening Google Chrome. This involved learning the security
                    flags cookies use to prevent malicious activity.</li>
                <li><span class="bold">Asynchronous programming: </span>I used this to make requests to the Spotify and
                    Genius APIs. This involved callback functions and promises, which perform specific actions
                    automatically after another function, such as a request to an API, finishes. This is helpful when
                    making multiple requests that depend on each other, which means that they must be done in a specific
                    order. I tried using async/await with promises too just to learn how to use them. Async/await makes
                    promises easier to read.</li>
            </ul>
        </section>
    </main>
</body>

</html>
